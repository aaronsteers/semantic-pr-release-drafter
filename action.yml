name: 'Semantic PR Release Drafter'
description: 'Drafts your next release notes based on semantic commit messages from merged pull requests.'
runs:
  using: 'node20'
  main: 'dist/index.js'
branding:
  icon: edit-2
  color: orange
inputs:
  config-name:
    description: |
      If your workflow requires multiple release-drafter configs it be helpful to override the config-name.
      The config should still be located inside `.github` as that's where we are looking for config files.
    required: false
    default: 'release-drafter.yml'
  name:
    description: |
      The name that will be used in the GitHub release that's created or updated.
      This will override any `name-template` specified in your `release-drafter.yml` if defined.
    required: false
  tag:
    description: |
      The tag name to be associated with the GitHub release that's created or updated.
      This will override any `tag-template` specified in your `release-drafter.yml` if defined.
    required: false
  version:
    description: |
      The version to be associated with the GitHub release that's created or updated.
      This will override any version calculated by the release-drafter.
    required: false
  publish:
    description: |
      A boolean indicating whether the release being created or updated should be immediately published.
    required: false
    default: ''
  latest:
    description: |
      A string indicating whether the release being created or updated should be marked as latest.
    required: false
    default: ''
  prerelease:
    description: |
      A boolean indicating whether the release being created or updated is a prerelease.
    required: false
    default: ''
  prerelease-identifier:
    description: |
      A string indicating an identifier (alpha, beta, rc, etc), to increment the prerelease version.
    required: false
    default: ''
  commitish:
    description: |
      The object that the release should be created to point to.
    required: false
    default: ''
  header:
    description: |
      A string that would be added before the template body.
    required: false
    default: ''
  footer:
    description: |
      A string that would be added after the template body.
    required: false
    default: ''
  disable-releaser:
    description: |
      A boolean indicating whether the releaser mode is disabled.
    required: false
    default: ''
  dry-run:
    description: |
      A boolean indicating whether to run in dry-run mode.
      In dry-run mode, the action will calculate the release info and set outputs,
      but will not create or update any releases.
    required: false
    default: 'false'
  local-git-root:
    description: |
      Path to a local git repository root. When set, the action will use `git log`
      to fetch commits instead of the GitHub API. This is useful for integration testing.
      Note: Commit filtering is ancestry-based. When a base-ref-override is provided, the action
      uses git ancestry (for example, `git log BASE_REF..HEAD`) to find commits after that ref.
    required: false
    default: ''
  base-ref-override:
    description: |
      A git ref (tag, branch, or commit SHA) to use as the starting point for finding commits.
      When set along with local-git-root, the action will get commits that are descendants of this ref
      using git ancestry (for example, `git log BASE_REF..HEAD`).
      This also serves as the base version for calculating the next semver if base-version-override is not set.
      Format: git ref (e.g., "v1.0.0", "main", or a commit SHA).
    required: false
    default: ''
  base-version-override:
    description: |
      Override the base version to use for calculating the next version.
      When set, the action will skip querying the GitHub API for the last release
      and use this version as the starting point. Format: semver string (e.g., "1.0.0" or "v1.0.0").
      If base-ref is also provided, this takes precedence for version calculation.
    required: false
    default: ''
outputs:
  id:
    description: The ID of the release that was created or updated.
  name:
    description: The name of the release
  tag_name:
    description: The name of the tag associated with the release.
  body:
    description: The body of the drafted release.
  html_url:
    description: The URL users can navigate to in order to view the release
  upload_url:
    description: The URL for uploading assets to the release, which could be used by GitHub Actions for additional uses, for example the @actions/upload-release-asset GitHub Action.
  major_version:
    description: The next major version number. For example, if the last tag or release was v1.2.3, the value would be v2.0.0.
  minor_version:
    description: The next minor version number. For example, if the last tag or release was v1.2.3, the value would be v1.3.0.
  patch_version:
    description: The next patch version number. For example, if the last tag or release was v1.2.3, the value would be v1.2.4.
  resolved_version:
    description: The next resolved version number, based on semantic commit types.
